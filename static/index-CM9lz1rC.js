var b=(c,l,s)=>new Promise((f,d)=>{var g=t=>{try{m(s.next(t))}catch(e){d(e)}},w=t=>{try{m(s.throw(t))}catch(e){d(e)}},m=t=>t.done?f(t.value):Promise.resolve(t.value).then(g,w);m((s=s.apply(c,l)).next())});import{A as N,a as U,_ as F}from"./logo-YOcv96hj.js";import{cE as T,d as h,x as B,r as v,j as C,$ as R,W as S,a as u,o as y,e as A,w as i,f as o,u as p,cT as j,cU as q,g as r,h as z,t as H,cO as L,cS as M,c as D}from"./index-CLoal8Ki.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-BU3SIYOS.js";import"./index-Bhi65mw2.js";const E=(c,l)=>T.post({url:"/login",data:{username:c,password:l}},{errorMessageMode:"modal",withToken:!1}),O={class:"form-item-container"},P=h({__name:"form",setup(c){const l=B("rule-form-ref"),s=v({username:"",password:""}),f=C(!1),{t:d}=R(),g=v({username:[{required:!0,trigger:"blur",message:d("sys.login.rules.userName")}],password:[{required:!0,trigger:"blur",message:d("sys.login.rules.password")}]}),w=S(),m=()=>b(this,null,function*(){const e=yield E(s.username,s.password);e.code===200&&(localStorage.setItem("token",e.data.token),L().setUserInfo(e.data),yield M(e.data.role),w.push("/"))}),t=e=>{e&&e.validate(a=>{a?m():console.log("error submit!")})};return(e,a)=>{const x=u("el-input"),_=u("el-form-item"),V=u("el-checkbox"),$=u("el-button"),I=u("el-form");return y(),A(I,{ref:"rule-form-ref",model:s,rules:g,size:"large",class:"demo-ruleForm"},{default:i(()=>[o(_,{prop:"username",class:"enter-y"},{default:i(()=>[o(x,{modelValue:s.username,"onUpdate:modelValue":a[0]||(a[0]=n=>s.username=n),"prefix-icon":p(j),clearable:"",placeholder:`${e.$t("sys.login.userName")}：admin`},null,8,["modelValue","prefix-icon","placeholder"])]),_:1}),o(_,{prop:"password",class:"enter-y"},{default:i(()=>[o(x,{modelValue:s.password,"onUpdate:modelValue":a[1]||(a[1]=n=>s.password=n),type:"password","prefix-icon":p(q),clearable:"","show-password":"",placeholder:`${e.$t("sys.login.password")}：admin123`},null,8,["modelValue","prefix-icon","placeholder"])]),_:1}),o(_,{class:"enter-y"},{default:i(()=>[r("div",O,[o(V,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=n=>f.value=n),label:e.$t("sys.login.rememberPassword")},null,8,["modelValue","label"])])]),_:1}),o(_,{class:"enter-y"},{default:i(()=>[o($,{class:"submit-btn",onClick:a[3]||(a[3]=n=>t(p(l)))},{default:i(()=>[z(H(e.$t("sys.login.loginButton")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),W=k(P,[["__scopeId","data-v-d161385f"]]),G={class:"page-container"},J={class:"container mx-auto"},K={class:"head"},Q={class:"application"},X={class:"login-box"},Y={class:"login-form"},Z=h({__name:"index",setup(c){return(l,s)=>(y(),D("div",G,[r("div",J,[r("div",K,[r("div",Q,[o(p(N),{class:"item icon-size enter-x"}),o(p(U),{class:"item enter-x"})])]),r("div",X,[s[0]||(s[0]=r("div",{className:"mb-10 flex flex-row items-center justify-center enter-y"},[r("img",{class:"w-[44px] h-[44px]",src:F,mode:"scaleToFill",alt:"logo"}),r("h2",{className:"m-0 ml-4"},"旭云劳保商品管理后台")],-1)),r("div",Y,[o(W)])])])]))}}),le=k(Z,[["__scopeId","data-v-51b2e7f7"]]);export{le as default};
